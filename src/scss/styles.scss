@import url('https://fonts.googleapis.com/css?family=EB+Garamond:400,600');
@import url('https://fonts.googleapis.com/css?family=Ovo');

$bgCol : #fff;
$tableCol: #fff;
$textCol: rgba(0,0,0.0,.75);
$suits: hearts clubs spades diamonds;
$ranks: "01" "02" "03" "04" "05" "06" "07" "08" "09" "10" "11" "12" "13";
$minWidth: 360px;

:root {
  --card-base-width: 120px;
  --card-ratio: 1.35;
  --table-height: calc(var(--card-base-width)*2)
}

/*
* Box model reset 
*/
html { box-sizing: border-box; }
*, *:before, *:after { box-sizing: inherit; }

html {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  
  font-size: 100%;
}

@media all and (max-width: 500px) {
  :root {
    --card-base-width: 65px;
    font-size: 90%;
  }
}

@media all and (min-width: 501px) and (max-width: 750px) {
  :root {
    --card-base-width: 85px;
  }
}

@media all and (min-width: 900px) {
  :root {
    --card-base-width: 160px;
  }
}

body {
  font-family: 'EB Garamond', serif;
  color: $textCol;
  background: $bgCol;
  
  min-height: 100vh;
  width: 100%;
  min-width: 360px;
  
  margin:0;
}

footer {
  position: absolute;
  width: 100%;
  min-width: $minWidth; 
  font-size: .7rem;
  bottom: .4em;
  border-top:1px dashed #dedede;

  p {
    margin:0;
    padding:.2em 1em 0 0;
    text-align: right;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  }
}

h1 { font-size: 1.8em;}
h2 { font-size: 1.4em;}
h3 { font-size: 1.2em;}

h1, h2, h3, h4, h5, h6, .msgBox {
  font-family: 'Ovo', serif;
  font-weight: 400;
  margin: .5em 0 .2em 0;
  text-transform:capitalize;
}

p { 
  font-size: 1.1em;
  line-height:1.7em;
  margin: 0 0 1.8em 0;
}


.textPage {
  padding:10px 20px;
  
  p {
    max-width: 570px;
  }
}

.intro {
  font-size: .9em;
  font-style: italic;
}

.msgBox {
  position: absolute;
  margin:0;
  padding:0;
  top:20vh;
  max-width: 100vw;
  width: 100vw;
  left:0;
  text-align: center;
  font-size: 1.8em;

  transition: top .2s ease-out;

  &.hide {
    top: -2em;
  }
}


// todo: Main grid [ 1fr:page-content, 2em:footer]
// todo: nested grid for each page
// todo:    text page: main-text || button
// todo:    deck page: message-box || card-table || button


// main {
//   display: grid;
//   grid-template-rows: 1fr 
// }

// #table {
//   height: 100vh;
//   display: flex;
//   flex-direction: column;
//   justify-content: center;
//   align-content: center;
// }

button {
  font-size: 1.1rem;
  width: 7em;
  height: 3em;
  margin-top:10px;
  border-radius: 6px 0 6px 0;
  cursor: pointer;

  &:hover {
    box-shadow: 3px 2px 8px rgba(0,0,0,.2);
  }
  
  &.btn_continue {
    display:block;
    margin:auto auto;
    position: absolute;
    bottom: 45px;
    left:calc(50% - 3.2em);
  }
}


.hand { 
  width: 100%;
  height: calc(var(--card-base-width) * var(--card-ratio) + 50px);
  padding: 25px 0;
  background-color: gold;
}

.card, .card .front, .card .back {
  width: var(--card-base-width);
  height: calc(var(--card-base-width)*var(--card-ratio));
}

.card {
  position: absolute;  
  perspective: 1000px;
  

  .inner {
    transition: 0.6s;
	  transform-style: preserve-3d;
    position: relative;
        
    .front, .back {
      backface-visibility: hidden;  
      position: absolute;
      top: 0;
      left: 0;
      background-size: cover;

      border-radius: 5px;
    box-shadow: 0 0 5px rgba(0,0,0,.4);
    border: 2px solid #fff;
    overflow: hidden;
    };

    /* front pane, placed above back */
    .front {
      z-index: 2;
      /* for firefox 31 */
      transform: rotateY(180deg);
    }
    
    /* back, initially hidden pane */
    .back {
      transform: rotateY(0deg);
      background-image: url('../images/cards/back.jpg');
    }
  }
  
  &.faceUp .inner {
    transform: rotateY(180deg);
  }

    
  


  // background-size: cover;

  /*
  Iterate the suits & ranks lists to generate a class 
  for each card in the deck with {suit}-{rank}.jpg background img
  Generating the src links at compile time means they get picked up by 
  parcel and the assets are moved into the dist folder.
  */
  @each $suit in $suits {
    @each $rank in $ranks {
      &.#{$suit}-#{unquote($rank)} .front {
        background-image: url('../images/cards/#{$suit}_#{unquote($rank)}.jpg');
      };
    }
  }
}